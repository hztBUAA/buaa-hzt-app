{"version":3,"file":"js/346.4e3bfe29.js","mappings":"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","sources":["webpack://buaa-hzt/./src/components/nearby/index.vue","webpack://buaa-hzt/./src/components/nearby/index.vue?26aa"],"sourcesContent":["<template>\n  <v-container>\n    <v-card class=\"mb-4\">\n      <v-card-title class=\"d-flex align-center\">\n        <v-icon start icon=\"mdi-map-marker\" class=\"mr-2\"></v-icon>\n        <h1>附近地点</h1>\n      </v-card-title>\n      <v-card-text>\n        <!-- 地图区域 -->\n        <div class=\"map-container mb-4\">\n          <div v-if=\"!mapLoaded\" class=\"d-flex justify-center align-center flex-column\" style=\"height: 300px;\">\n            <v-progress-circular indeterminate color=\"primary\" size=\"64\"></v-progress-circular>\n            <div class=\"mt-4\">地图加载中...</div>\n          </div>\n          <div id=\"map-container\" style=\"height: 300px; border-radius: 8px;\"></div>\n        </div>\n      </v-card-text>\n    </v-card>\n\n    <!-- 搜索区域 -->\n    <v-card class=\"mb-4\">\n      <v-card-text>\n        <v-row align=\"center\">\n          <v-col cols=\"12\" sm=\"8\">\n            <v-text-field\n              v-model=\"searchQuery\"\n              label=\"搜索附近地点\"\n              variant=\"outlined\"\n              density=\"comfortable\"\n              prepend-inner-icon=\"mdi-magnify\"\n              clearable\n              @keyup.enter=\"searchPlaces\"\n            ></v-text-field>\n          </v-col>\n          <v-col cols=\"12\" sm=\"4\">\n            <v-select\n              v-model=\"selectedCategory\"\n              :items=\"categories\"\n              label=\"分类\"\n              variant=\"outlined\"\n              density=\"comfortable\"\n              prepend-inner-icon=\"mdi-filter-variant\"\n            ></v-select>\n          </v-col>\n        </v-row>\n      </v-card-text>\n    </v-card>\n\n    <!-- 地点列表 -->\n    <v-card>\n      <v-card-title class=\"d-flex align-center\">\n        <v-icon start icon=\"mdi-format-list-bulleted\" class=\"mr-2\"></v-icon>\n        附近地点列表\n      </v-card-title>\n      <v-card-text v-if=\"loading\">\n        <div class=\"d-flex justify-center my-4\">\n          <v-progress-circular indeterminate color=\"primary\"></v-progress-circular>\n        </div>\n      </v-card-text>\n      <template v-else>\n        <v-list lines=\"two\">\n          <v-list-item\n            v-for=\"(place, index) in filteredPlaces\"\n            :key=\"index\"\n            :title=\"place.name\"\n            :subtitle=\"`${place.distance || '未知距离'} · ${place.category || place.type}`\"\n          >\n            <template v-slot:prepend>\n              <v-avatar color=\"primary\" :icon=\"getCategoryIcon(place.category || place.type)\"></v-avatar>\n            </template>\n            <template v-slot:append>\n              <v-btn\n                icon=\"mdi-directions\"\n                variant=\"text\"\n                color=\"primary\"\n                @click=\"getDirections(place)\"\n              ></v-btn>\n            </template>\n          </v-list-item>\n        </v-list>\n\n        <div class=\"d-flex justify-center pa-4\">\n          <v-pagination\n            v-model=\"page\"\n            :length=\"Math.ceil(filteredPlaces.length / pageSize)\"\n            rounded=\"circle\"\n            width=\"auto\"\n            class=\"pagination-container\"\n            @update:model-value=\"handlePageChange\"\n          ></v-pagination>\n        </div>\n      </template>\n    </v-card>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      mapLoaded: false,\n      searchQuery: '',\n      selectedCategory: '全部',\n      categories: ['全部', '餐厅', '咖啡店', '超市', '公园', '学校', '图书馆'],\n      loading: false,\n      page: 1,\n      pageSize: 6,\n      map: null,\n      geolocation: null,\n      currentPosition: null,\n      nearbyPlaces: [],\n      mockPlaces: [\n        {\n          name: '北航食堂',\n          distance: '200米',\n          category: '餐厅',\n          location: [116.351462, 39.980476]\n        },\n        {\n          name: '星巴克咖啡',\n          distance: '350米',\n          category: '咖啡店',\n          location: [116.349784, 39.982310]\n        },\n        {\n          name: '学生活动中心',\n          distance: '500米',\n          category: '学校',\n          location: [116.353103, 39.979854]\n        },\n        {\n          name: '知春路地铁站',\n          distance: '800米',\n          category: '交通',\n          location: [116.347854, 39.976549]\n        },\n        {\n          name: '北航图书馆',\n          distance: '400米',\n          category: '图书馆',\n          location: [116.350678, 39.981236]\n        },\n        {\n          name: '五道口购物中心',\n          distance: '1.2公里',\n          category: '购物',\n          location: [116.338963, 39.991255]\n        }\n      ]\n    };\n  },\n  computed: {\n    filteredPlaces() {\n      let places = this.nearbyPlaces.length > 0 ? this.nearbyPlaces : this.mockPlaces;\n      \n      if (this.selectedCategory !== '全部') {\n        places = places.filter(place => \n          (place.category && place.category.includes(this.selectedCategory)) || \n          (place.type && place.type.includes(this.selectedCategory))\n        );\n      }\n      \n      if (this.searchQuery) {\n        const query = this.searchQuery.toLowerCase();\n        places = places.filter(place => \n          place.name.toLowerCase().includes(query) || \n          (place.address && place.address.toLowerCase().includes(query))\n        );\n      }\n      \n      // 分页处理\n      const start = (this.page - 1) * this.pageSize;\n      const end = start + this.pageSize;\n      \n      return places.slice(start, end);\n    }\n  },\n  mounted() {\n    this.initMap();\n  },\n  methods: {\n    initMap() {\n      // 如果在开发环境或者没有正确配置API，使用模拟数据\n      if (!window.AMap) {\n        this.loadAMapScript().then(() => {\n          this.createMap();\n        }).catch(err => {\n          console.error('加载地图API失败:', err);\n          this.mapLoaded = true; // 即使失败也标记为已加载，避免一直显示加载中\n        });\n      } else {\n        this.createMap();\n      }\n    },\n    \n    loadAMapScript() {\n      return new Promise((resolve, reject) => {\n        const script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.async = true;\n        script.src = 'https://webapi.amap.com/maps?v=2.0&key=您的高德地图key';\n        script.onerror = reject;\n        script.onload = resolve;\n        document.head.appendChild(script);\n      });\n    },\n    \n    createMap() {\n      try {\n        // 创建地图实例\n        this.map = new AMap.Map('map-container', {\n          zoom: 15,\n          viewMode: '3D'\n        });\n        \n        // 添加控件\n        this.map.plugin(['AMap.ToolBar', 'AMap.Scale'], () => {\n          this.map.addControl(new AMap.ToolBar());\n          this.map.addControl(new AMap.Scale());\n        });\n        \n        // 添加定位控件\n        this.map.plugin('AMap.Geolocation', () => {\n          this.geolocation = new AMap.Geolocation({\n            enableHighAccuracy: true,\n            timeout: 10000,\n            zoomToAccuracy: true\n          });\n          this.map.addControl(this.geolocation);\n          \n          // 获取当前位置\n          this.getCurrentPosition();\n        });\n        \n        this.mapLoaded = true;\n      } catch (error) {\n        console.error('创建地图失败:', error);\n        // 使用模拟数据\n        this.mapLoaded = true;\n      }\n    },\n    \n    getCurrentPosition() {\n      if (this.geolocation) {\n        this.geolocation.getCurrentPosition((status, result) => {\n          if (status === 'complete') {\n            this.currentPosition = result.position;\n            // 在地图上标记当前位置\n            const marker = new AMap.Marker({\n              position: this.currentPosition,\n              icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n              animation: 'AMAP_ANIMATION_BOUNCE'\n            });\n            this.map.add(marker);\n            \n            // 初始设置地图中心点\n            this.map.setCenter(this.currentPosition);\n            \n            // 获取周边兴趣点\n            this.searchNearbyPOI();\n          } else {\n            console.error('定位失败:', result);\n            // 失败时使用默认位置(北航坐标)\n            this.currentPosition = [116.351013, 39.980331];\n            this.map.setCenter(this.currentPosition);\n          }\n        });\n      }\n    },\n    \n    searchNearbyPOI() {\n      if (!this.currentPosition) return;\n      \n      this.loading = true;\n      \n      try {\n        // 使用高德地图POI搜索服务\n        AMap.service('AMap.PlaceSearch', () => {\n          const placeSearch = new AMap.PlaceSearch({\n            pageSize: 20,\n            pageIndex: 1,\n            extensions: 'all'\n          });\n          \n          // 搜索周边兴趣点\n          placeSearch.searchNearBy('', this.currentPosition, 1000, (status, result) => {\n            this.loading = false;\n            \n            if (status === 'complete') {\n              this.nearbyPlaces = result.poiList.pois.map(poi => {\n                // 计算与当前位置的距离\n                const distance = AMap.GeometryUtil.distance(\n                  this.currentPosition,\n                  [poi.location.lng, poi.location.lat]\n                );\n                \n                let distanceText = '';\n                if (distance < 1000) {\n                  distanceText = `${Math.round(distance)}米`;\n                } else {\n                  distanceText = `${(distance / 1000).toFixed(1)}公里`;\n                }\n                \n                return {\n                  id: poi.id,\n                  name: poi.name,\n                  type: poi.type,\n                  address: poi.address,\n                  distance: distanceText,\n                  location: [poi.location.lng, poi.location.lat]\n                };\n              });\n              \n              // 在地图上添加标记\n              this.addMarkersToMap(this.nearbyPlaces);\n            } else {\n              console.error('搜索附近地点失败:', result);\n              // 使用模拟数据\n              this.nearbyPlaces = this.mockPlaces;\n              this.addMarkersToMap(this.mockPlaces);\n            }\n          });\n        });\n      } catch (error) {\n        console.error('搜索附近POI失败:', error);\n        this.loading = false;\n        // 使用模拟数据\n        this.nearbyPlaces = this.mockPlaces;\n        this.addMarkersToMap(this.mockPlaces);\n      }\n    },\n    \n    addMarkersToMap(places) {\n      if (!this.map) return;\n      \n      // 添加标记之前先清除地图上已有的标记\n      this.map.clearMap();\n      \n      // 重新添加当前位置标记\n      if (this.currentPosition) {\n        const currentMarker = new AMap.Marker({\n          position: this.currentPosition,\n          icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n          animation: 'AMAP_ANIMATION_BOUNCE'\n        });\n        this.map.add(currentMarker);\n      }\n      \n      // 添加兴趣点标记\n      places.forEach(place => {\n        if (place.location) {\n          const marker = new AMap.Marker({\n            position: place.location,\n            title: place.name\n          });\n          \n          marker.on('click', () => {\n            // 显示信息窗体\n            const infoWindow = new AMap.InfoWindow({\n              content: `\n                <div class=\"info-window\">\n                  <h3>${place.name}</h3>\n                  <p>${place.address || ''}</p>\n                  <p>距离: ${place.distance}</p>\n                </div>\n              `,\n              offset: new AMap.Pixel(0, -30)\n            });\n            \n            infoWindow.open(this.map, place.location);\n          });\n          \n          this.map.add(marker);\n        }\n      });\n    },\n    \n    searchPlaces() {\n      this.loading = true;\n      \n      if (this.map && this.currentPosition) {\n        try {\n          AMap.service('AMap.PlaceSearch', () => {\n            const placeSearch = new AMap.PlaceSearch({\n              pageSize: 20,\n              pageIndex: 1,\n              extensions: 'all'\n            });\n            \n            // 搜索周边兴趣点\n            placeSearch.searchNearBy(this.searchQuery, this.currentPosition, 5000, (status, result) => {\n              this.loading = false;\n              \n              if (status === 'complete') {\n                this.nearbyPlaces = result.poiList.pois.map(poi => {\n                  const distance = AMap.GeometryUtil.distance(\n                    this.currentPosition,\n                    [poi.location.lng, poi.location.lat]\n                  );\n                  \n                  let distanceText = '';\n                  if (distance < 1000) {\n                    distanceText = `${Math.round(distance)}米`;\n                  } else {\n                    distanceText = `${(distance / 1000).toFixed(1)}公里`;\n                  }\n                  \n                  return {\n                    id: poi.id,\n                    name: poi.name,\n                    type: poi.type,\n                    address: poi.address,\n                    distance: distanceText,\n                    location: [poi.location.lng, poi.location.lat]\n                  };\n                });\n                \n                // 在地图上添加标记\n                this.addMarkersToMap(this.nearbyPlaces);\n                this.page = 1; // 重置到第一页\n              } else {\n                console.error('搜索地点失败:', result);\n              }\n            });\n          });\n        } catch (error) {\n          console.error('搜索地点失败:', error);\n          this.loading = false;\n        }\n      } else {\n        // 模拟搜索延迟\n        setTimeout(() => {\n          this.loading = false;\n          // 使用模拟数据进行过滤\n          if (this.searchQuery) {\n            const query = this.searchQuery.toLowerCase();\n            this.nearbyPlaces = this.mockPlaces.filter(place => \n              place.name.toLowerCase().includes(query)\n            );\n          } else {\n            this.nearbyPlaces = this.mockPlaces;\n          }\n          this.page = 1; // 重置到第一页\n        }, 1000);\n      }\n    },\n    \n    getCategoryIcon(category) {\n      const iconMap = {\n        '餐厅': 'mdi-food',\n        '咖啡店': 'mdi-coffee',\n        '超市': 'mdi-store',\n        '公园': 'mdi-nature',\n        '学校': 'mdi-school',\n        '图书馆': 'mdi-library',\n        '交通': 'mdi-train',\n        '购物': 'mdi-shopping',\n        '美食': 'mdi-food-fork-drink',\n        '酒店': 'mdi-bed',\n        '银行': 'mdi-bank',\n        '医院': 'mdi-hospital-building'\n      };\n      \n      // 检查类别是否包含特定关键词\n      if (category) {\n        const lowerCaseCategory = category.toLowerCase();\n        \n        if (lowerCaseCategory.includes('餐')) return 'mdi-food';\n        if (lowerCaseCategory.includes('咖啡')) return 'mdi-coffee';\n        if (lowerCaseCategory.includes('超市') || lowerCaseCategory.includes('商场')) return 'mdi-store';\n        if (lowerCaseCategory.includes('公园')) return 'mdi-nature';\n        if (lowerCaseCategory.includes('学校') || lowerCaseCategory.includes('教育')) return 'mdi-school';\n        if (lowerCaseCategory.includes('图书馆')) return 'mdi-library';\n        if (lowerCaseCategory.includes('地铁') || lowerCaseCategory.includes('交通') || lowerCaseCategory.includes('公交')) return 'mdi-train';\n        if (lowerCaseCategory.includes('购物') || lowerCaseCategory.includes('商店')) return 'mdi-shopping';\n        if (lowerCaseCategory.includes('酒店') || lowerCaseCategory.includes('宾馆')) return 'mdi-bed';\n        if (lowerCaseCategory.includes('银行') || lowerCaseCategory.includes('金融')) return 'mdi-bank';\n        if (lowerCaseCategory.includes('医院') || lowerCaseCategory.includes('诊所')) return 'mdi-hospital-building';\n      }\n      \n      return iconMap[category] || 'mdi-map-marker';\n    },\n    \n    getDirections(place) {\n      if (this.currentPosition && place.location) {\n        // 使用高德地图导航\n        const url = `https://uri.amap.com/navigation?from=${this.currentPosition.join(',')},我的位置&to=${place.location.join(',')},${place.name}&mode=car&policy=1&src=mypage&callnative=1`;\n        window.open(url, '_blank');\n      } else {\n        console.log(`获取到 ${place.name} 的导航信息`);\n        alert(`导航到: ${place.name}\\n地址: ${place.address || '未知地址'}`);\n      }\n    },\n    \n    handlePageChange(newPage) {\n      if (this.page === newPage) return; // 防止相同页码重复触发\n      this.page = newPage;\n      // 使用 setTimeout 确保状态更新后再滚动\n      setTimeout(() => {\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth'\n        });\n      }, 10);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.map-container {\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  overflow: hidden;\n}\n.position-absolute {\n  position: absolute;\n}\n.pagination-container {\n  max-width: 100%;\n  overflow-x: auto;\n  margin: 0 auto;\n  width: max-content;\n}\n.info-window h3 {\n  margin: 0 0 5px 0;\n  font-size: 16px;\n}\n.info-window p {\n  margin: 0 0 5px 0;\n  font-size: 13px;\n}\n</style>\n","import { render } from \"./index.vue?vue&type=template&id=7e970692&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=7e970692&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7e970692\"]])\n\nexport default __exports__"],"names":["class","key","style","_createBlock","_component_v_container","default","_withCtx","_createVNode","_component_v_card","_component_v_card_title","_component_v_icon","start","icon","_createElementVNode","_","_component_v_card_text","_hoisted_1","$data","mapLoaded","_createCommentVNode","_createElementBlock","_hoisted_2","_component_v_progress_circular","indeterminate","color","size","id","_component_v_row","align","_component_v_col","cols","sm","_component_v_text_field","modelValue","searchQuery","_cache","$event","label","variant","density","clearable","onKeyup","_withKeys","$options","searchPlaces","_component_v_select","selectedCategory","items","categories","_createTextVNode","loading","_hoisted_3","_Fragment","_component_v_list","lines","_renderList","filteredPlaces","place","index","_component_v_list_item","title","name","subtitle","distance","category","type","prepend","_component_v_avatar","getCategoryIcon","append","_component_v_btn","onClick","getDirections","_hoisted_4","_component_v_pagination","page","handlePageChange","length","Math","ceil","pageSize","rounded","width","data","map","geolocation","currentPosition","nearbyPlaces","mockPlaces","location","computed","places","this","filter","includes","query","toLowerCase","address","end","slice","mounted","initMap","methods","window","AMap","createMap","loadAMapScript","then","catch","err","console","error","Promise","resolve","reject","script","document","createElement","async","src","onerror","onload","head","appendChild","Map","zoom","viewMode","plugin","addControl","ToolBar","Scale","Geolocation","enableHighAccuracy","timeout","zoomToAccuracy","getCurrentPosition","status","result","position","marker","Marker","animation","add","setCenter","searchNearbyPOI","service","placeSearch","PlaceSearch","pageIndex","extensions","searchNearBy","poiList","pois","poi","GeometryUtil","lng","lat","distanceText","round","toFixed","addMarkersToMap","clearMap","currentMarker","forEach","on","infoWindow","InfoWindow","content","offset","Pixel","open","setTimeout","iconMap","lowerCaseCategory","url","join","log","alert","newPage","scrollTo","top","behavior","__exports__","render"],"sourceRoot":""}
"use strict";(self["webpackChunkbuaa_hzt"]=self["webpackChunkbuaa_hzt"]||[]).push([[266],{5266:function(e,t,a){a.r(t),a.d(t,{default:function(){return fe}});var l=a(641),o=a(3751),n=a(33),r=a(3416),i=a(3892),s=a(4676),u=a(4189),c=a(697),d=a(1606),m=a(5832),v=a(3745),f=a(7524),p=a(3813),g=a(6756),b=a(5526),h=a(1720),k=a(9669),y=a(5126),F=a(7925),w=a(7505),x=a(7009),_=a(236),V=a(6106),C=a(8119),S=a(3948);const L={class:"d-flex justify-space-between align-center mb-4"},B={class:"text-caption me-2"},W={class:"d-flex align-center"},R={class:"text-caption me-2"},j={class:"d-flex justify-center mt-6"},E={class:"position-relative"};function z(e,t,a,z,I,P){return(0,l.uX)(),(0,l.Wv)(p.I,null,{default:(0,l.k6)((()=>[(0,l.bF)(u.J,{class:"mb-5 rounded-lg",elevation:"2"},{default:(0,l.k6)((()=>[(0,l.bF)(c.O,{class:"pa-4"},{default:(0,l.k6)((()=>[(0,l.bF)(g.L,null,{default:(0,l.k6)((()=>[(0,l.bF)(b.B,{cols:"12",sm:"8"},{default:(0,l.k6)((()=>[(0,l.bF)(S.W,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchQuery=t),label:"搜索内容",variant:"outlined","prepend-inner-icon":"mdi-magnify",clearable:"",density:"comfortable",onKeyup:(0,o.jR)(P.searchContent,["enter"]),"bg-color":"white"},null,8,["modelValue","onKeyup"])])),_:1}),(0,l.bF)(b.B,{cols:"12",sm:"4",class:"d-flex align-center"},{default:(0,l.k6)((()=>[(0,l.bF)(C.d4,{modelValue:e.selectedCategory,"onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedCategory=t),items:e.categories,label:"分类浏览",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-filter-variant","bg-color":"white"},null,8,["modelValue","items"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.Lk)("div",L,[t[4]||(t[4]=(0,l.Lk)("h2",{class:"text-h5 font-weight-medium"},"探索内容",-1)),(0,l.bF)(s.H_,{modelValue:e.viewType,"onUpdate:modelValue":t[2]||(t[2]=t=>e.viewType=t),color:"primary",mandatory:"",density:"comfortable"},{default:(0,l.k6)((()=>[(0,l.bF)(i.D,{value:"grid",icon:"mdi-view-grid"}),(0,l.bF)(i.D,{value:"list",icon:"mdi-view-list"})])),_:1},8,["modelValue"])]),P.filteredCards.length?"grid"===e.viewType?((0,l.uX)(),(0,l.Wv)(g.L,{key:1,dense:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(P.filteredCards,(e=>((0,l.uX)(),(0,l.Wv)(b.B,{key:e.id,cols:"12",sm:"6",md:"4"},{default:(0,l.k6)((()=>[(0,l.bF)(u.J,{class:"h-100 card-hover",elevation:"2"},{default:(0,l.k6)((()=>[(0,l.bF)(y.y,{src:P.getCardImage(e.id),height:"200",cover:""},{placeholder:(0,l.k6)((()=>[(0,l.bF)(g.L,{class:"fill-height ma-0",align:"center",justify:"center"},{default:(0,l.k6)((()=>[(0,l.bF)(V.x,{indeterminate:"",color:"primary"})])),_:1})])),_:2},1032,["src"]),(0,l.bF)(d.r,{class:"text-truncate"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.title),1)])),_:2},1024),(0,l.bF)(m.Z,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.subtitle),1)])),_:2},1024),(0,l.bF)(c.O,{class:"text-truncate-3"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.content),1)])),_:2},1024),(0,l.bF)(v.S,null,{default:(0,l.k6)((()=>[(0,l.bF)(F.g,{class:"w-100 card-footer"},{prepend:(0,l.k6)((()=>[(0,l.bF)(r.y,{size:"36",color:"grey-darken-3",image:P.getRandomAvatar()},{placeholder:(0,l.k6)((()=>[(0,l.bF)(g.L,{class:"fill-height ma-0",align:"center",justify:"center"},{default:(0,l.k6)((()=>[(0,l.bF)(V.x,{indeterminate:"",color:"grey-lighten-3",size:"20"})])),_:1})])),_:1},8,["image"])])),append:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(k.w,{class:"me-1",color:e.liked?"red":"",icon:"mdi-heart",onClick:t=>P.like(e.id)},null,8,["color","onClick"]),(0,l.Lk)("span",B,(0,n.v_)(e.likes),1)])])),default:(0,l.k6)((()=>[(0,l.bF)(w.w,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.category),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):((0,l.uX)(),(0,l.Wv)(x.x8,{key:2,lines:"two",class:"rounded-lg"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(P.filteredCards,(e=>((0,l.uX)(),(0,l.Wv)(F.g,{key:e.id,title:e.title,subtitle:e.subtitle,rounded:"lg",class:"mb-2"},{prepend:(0,l.k6)((()=>[(0,l.bF)(r.y,{size:"36",color:"grey-darken-3",image:e.avatar},{placeholder:(0,l.k6)((()=>[(0,l.bF)(g.L,{class:"fill-height ma-0",align:"center",justify:"center"},{default:(0,l.k6)((()=>[(0,l.bF)(V.x,{indeterminate:"",color:"grey-lighten-3",size:"20"})])),_:1})])),_:2},1032,["image"])])),append:(0,l.k6)((()=>[(0,l.Lk)("div",W,[(0,l.bF)(k.w,{size:"small",class:"me-1",color:e.liked?"red":"",icon:"mdi-heart",onClick:(0,o.D$)((t=>P.like(e.id)),["stop"])},null,8,["color","onClick"]),(0,l.Lk)("span",R,(0,n.v_)(e.likes),1),(0,l.bF)(f.x,{size:"small",color:P.getCategoryColor(e.category),"text-color":"white"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.category),1)])),_:2},1032,["color"])])])),_:2},1032,["title","subtitle"])))),128))])),_:1})):((0,l.uX)(),(0,l.Wv)(u.J,{key:0,class:"my-5 text-center pa-6",elevation:"0",border:""},{default:(0,l.k6)((()=>[(0,l.bF)(k.w,{size:"64",color:"grey-lighten-1"},{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)("mdi-text-search")]))),_:1}),t[7]||(t[7]=(0,l.Lk)("h3",{class:"text-h5 mt-4 text-grey-darken-1"},"暂无内容",-1)),t[8]||(t[8]=(0,l.Lk)("p",{class:"text-body-1 text-medium-emphasis mt-2"}," 没有找到符合当前筛选条件的内容，请尝试更换关键词或分类 ",-1)),(0,l.bF)(i.D,{color:"primary",class:"mt-4","prepend-icon":"mdi-refresh",onClick:P.resetFilters},{default:(0,l.k6)((()=>t[6]||(t[6]=[(0,l.eW)(" 重置筛选条件 ")]))),_:1},8,["onClick"])])),_:1})),(0,l.Lk)("div",j,[(0,l.bF)(_.l,{modelValue:e.page,"onUpdate:modelValue":[t[3]||(t[3]=t=>e.page=t),P.handlePageChange],length:2,rounded:"circle",width:"auto",class:"pagination-container"},null,8,["modelValue","onUpdate:modelValue"])]),t[11]||(t[11]=(0,l.Lk)("h2",{class:"text-h5 font-weight-medium mt-8 mb-4"},"发现更多",-1)),(0,l.bF)(g.L,null,{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.discoverItems,((e,a)=>((0,l.uX)(),(0,l.Wv)(b.B,{cols:"12",sm:"4",key:a},{default:(0,l.k6)((()=>[(0,l.bF)(u.J,{class:"h-100 card-hover",to:e.route,hover:"",elevation:"3"},{default:(0,l.k6)((()=>[(0,l.bF)(y.y,{src:e.image,height:"160",cover:"",gradient:"to bottom, rgba(0,0,0,0) 60%, rgba(0,0,0,0.7)"},{placeholder:(0,l.k6)((()=>[(0,l.bF)(g.L,{class:"fill-height ma-0",align:"center",justify:"center"},{default:(0,l.k6)((()=>[(0,l.bF)(V.x,{indeterminate:"",color:"primary"})])),_:1})])),_:2},1032,["src"]),(0,l.Lk)("div",E,[(0,l.bF)(d.r,{class:"pb-1"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.title),1)])),_:2},1024),(0,l.bF)(m.Z,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.description),1)])),_:2},1024),(0,l.bF)(v.S,null,{default:(0,l.k6)((()=>[(0,l.bF)(h.h),(0,l.bF)(i.D,{variant:"text",color:"primary",to:e.route},{default:(0,l.k6)((()=>[t[10]||(t[10]=(0,l.eW)(" 查看 ")),(0,l.bF)(k.w,{end:""},{default:(0,l.k6)((()=>t[9]||(t[9]=[(0,l.eW)("mdi-arrow-right")]))),_:1})])),_:2},1032,["to"])])),_:2},1024)])])),_:2},1032,["to"])])),_:2},1024)))),128))])),_:1})])),_:1})}a(8992),a(4520),a(2577),a(1454);var I=a(2741),P=a(6856),K=a(7852),T=a(8856),A=a(1950),D=a(2067),U=a(2876),N=a(953),M=a(4587),J=a(1247),O=a(9094),X=a(6993),G=a(4600);const q=(0,M.j)({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...(0,T.D)({origin:"center center",scrollStrategy:"block",transition:{component:P._},zIndex:2400})},"VDialog"),Q=(0,J.RW)()({name:"VDialog",props:q(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:a,slots:o}=t;const n=(0,D.q)(e,"modelValue"),{scopeId:r}=(0,U.b)(),i=(0,N.KR)();function s(e){const t=e.relatedTarget,a=e.target;if(t!==a&&i.value?.contentEl&&i.value?.globalTop&&![document,i.value.contentEl].includes(a)&&!i.value.contentEl.contains(a)){const e=(0,O.OW)(i.value.contentEl);if(!e.length)return;const a=e[0],l=e[e.length-1];t===a?l.focus():a.focus()}}function u(){a("afterEnter"),i.value?.contentEl&&!i.value.contentEl.contains(document.activeElement)&&i.value.contentEl.focus({preventScroll:!0})}function c(){a("afterLeave")}return(0,l.xo)((()=>{document.removeEventListener("focusin",s)})),X.ZK&&(0,l.wB)((()=>n.value&&e.retainFocus),(e=>{e?document.addEventListener("focusin",s):document.removeEventListener("focusin",s)}),{immediate:!0}),(0,l.wB)(n,(async e=>{e||(await(0,l.dY)(),i.value.activatorEl?.focus({preventScroll:!0}))})),(0,G.C)((()=>{const t=T.L.filterProps(e),a=(0,l.v6)({"aria-haspopup":"dialog"},e.activatorProps),s=(0,l.v6)({tabindex:-1},e.contentProps);return(0,l.bF)(T.L,(0,l.v6)({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},t,{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,"aria-modal":"true",activatorProps:a,contentProps:s,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:u,onAfterLeave:c},r),{activator:o.activator,default:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.bF)(K.K,{root:"VDialog"},{default:()=>[o.default?.(...t)]})}})})),(0,A.O)({},i)}});var Y=a(7511),$=a(6554),Z=(a(2936),a(1622)),H=a(4577),ee=a(5035),te=a(6935),ae=a(9629);const le=(0,M.j)({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...(0,ee.V)(),...(0,H.tG)()},"VTextarea"),oe=(0,J.RW)()({name:"VTextarea",directives:{Intersect:ae.A},inheritAttrs:!1,props:le(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:a,emit:n,slots:r}=t;const i=(0,D.q)(e,"modelValue"),{isFocused:s,focus:u,blur:c}=(0,te.i)(e),d=(0,l.EW)((()=>"function"===typeof e.counterValue?e.counterValue(i.value):(i.value||"").toString().length)),m=(0,l.EW)((()=>a.maxlength?a.maxlength:!e.counter||"number"!==typeof e.counter&&"string"!==typeof e.counter?void 0:e.counter));function v(t,a){e.autofocus&&t&&a[0].target?.focus?.()}const f=(0,N.KR)(),p=(0,N.KR)(),g=(0,N.IJ)(""),b=(0,N.KR)(),h=(0,l.EW)((()=>e.persistentPlaceholder||s.value||e.active));function k(){b.value!==document.activeElement&&b.value?.focus(),s.value||u()}function y(e){k(),n("click:control",e)}function F(e){n("mousedown:control",e)}function w(t){t.stopPropagation(),k(),(0,l.dY)((()=>{i.value="",(0,O.P)(e["onClick:clear"],t)}))}function x(t){const a=t.target;if(i.value=a.value,e.modelModifiers?.trim){const e=[a.selectionStart,a.selectionEnd];(0,l.dY)((()=>{a.selectionStart=e[0],a.selectionEnd=e[1]}))}}const _=(0,N.KR)(),V=(0,N.KR)(+e.rows),C=(0,l.EW)((()=>["plain","underlined"].includes(e.variant)));function S(){e.autoGrow&&(0,l.dY)((()=>{if(!_.value||!p.value)return;const t=getComputedStyle(_.value),a=getComputedStyle(p.value.$el),l=parseFloat(t.getPropertyValue("--v-field-padding-top"))+parseFloat(t.getPropertyValue("--v-input-padding-top"))+parseFloat(t.getPropertyValue("--v-field-padding-bottom")),o=_.value.scrollHeight,n=parseFloat(t.lineHeight),r=Math.max(parseFloat(e.rows)*n+l,parseFloat(a.getPropertyValue("--v-input-control-height"))),i=parseFloat(e.maxRows)*n+l||1/0,s=(0,O.qE)(o??0,r,i);V.value=Math.floor((s-l)/n),g.value=(0,O.Dg)(s)}))}let L;return(0,l.nT)((()=>{e.autoGrow||(V.value=+e.rows)})),(0,l.sV)(S),(0,l.wB)(i,S),(0,l.wB)((()=>e.rows),S),(0,l.wB)((()=>e.maxRows),S),(0,l.wB)((()=>e.density),S),(0,l.wB)(_,(e=>{e?(L=new ResizeObserver(S),L.observe(_.value)):L?.disconnect()})),(0,l.xo)((()=>{L?.disconnect()})),(0,G.C)((()=>{const t=!!(r.counter||e.counter||e.counterValue),n=!(!t&&!r.details),[u,S]=(0,O.ph)(a),{modelValue:L,...B}=ee.Z.filterProps(e),W=(0,H.jz)(e);return(0,l.bF)(ee.Z,(0,l.v6)({ref:f,modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":C.value},e.class],style:e.style},u,B,{centerAffix:1===V.value&&!C.value,focused:s.value}),{...r,default:t=>{let{id:a,isDisabled:n,isDirty:u,isReadonly:d,isValid:m}=t;return(0,l.bF)(H.xR,(0,l.v6)({ref:p,style:{"--v-textarea-control-height":g.value},onClick:y,onMousedown:F,"onClick:clear":w,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},W,{id:a.value,active:h.value||u.value,centerAffix:1===V.value&&!C.value,dirty:u.value||e.dirty,disabled:n.value,focused:s.value,error:!1===m.value}),{...r,default:t=>{let{props:{class:a,...r}}=t;return(0,l.bF)(l.FK,null,[e.prefix&&(0,l.bF)("span",{class:"v-text-field__prefix"},[e.prefix]),(0,l.bo)((0,l.bF)("textarea",(0,l.v6)({ref:b,class:a,value:i.value,onInput:x,autofocus:e.autofocus,readonly:d.value,disabled:n.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:k,onBlur:c},r,S),null),[[(0,l.gN)("intersect"),{handler:v},null,{once:!0}]]),e.autoGrow&&(0,l.bo)((0,l.bF)("textarea",{class:[a,"v-textarea__sizer"],id:`${r.id}-sizer`,"onUpdate:modelValue":e=>i.value=e,ref:_,readonly:!0,"aria-hidden":"true"},null),[[o.Jo,i.value]]),e.suffix&&(0,l.bF)("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:n?a=>(0,l.bF)(l.FK,null,[r.details?.(a),t&&(0,l.bF)(l.FK,null,[(0,l.bF)("span",null,null),(0,l.bF)(Z.p,{active:e.persistentCounter||s.value,value:d.value,max:m.value,disabled:e.disabled},r.counter)])]):void 0})})),(0,A.O)({},f,p,b)}});function ne(e,t,a,o,r,s){return(0,l.uX)(),(0,l.Wv)(p.I,null,{default:(0,l.k6)((()=>[(0,l.bF)(Q,{modelValue:e.dialog,"onUpdate:modelValue":t[5]||(t[5]=t=>e.dialog=t),"max-width":"600",persistent:""},{activator:(0,l.k6)((({props:e})=>[(0,l.bF)(i.D,(0,l.v6)({class:"text-none font-weight-regular","prepend-icon":"mdi-pencil-box-outline",text:"创建",variant:"tonal"},e),null,16)])),default:(0,l.k6)((()=>[(0,l.bF)(u.J,{"prepend-icon":"mdi-account",title:"User Profile"},{default:(0,l.k6)((()=>[(0,l.bF)(c.O,null,{default:(0,l.k6)((()=>[(0,l.bF)(g.L,{dense:""},{default:(0,l.k6)((()=>[(0,l.bF)(b.B,{cols:"6",md:"6"},{default:(0,l.k6)((()=>[(0,l.bF)(S.W,{modelValue:e.form.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.title=t),label:"标题",required:""},null,8,["modelValue"])])),_:1}),(0,l.bF)(b.B,{cols:"6`",sm:"6"},{default:(0,l.k6)((()=>[(0,l.bF)(C.d4,{modelValue:e.form.visibility,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.visibility=t),items:["公开","私密","部分好友可见","部分好友不可见"],label:"可见性",required:""},null,8,["modelValue"])])),_:1}),(0,l.bF)(b.B,{cols:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(S.W,{modelValue:e.form.subtitle,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.subtitle=t),label:"副标题",hint:"可空","persistent-hint":"",required:""},null,8,["modelValue"])])),_:1}),(0,l.bF)(b.B,{"cols:":"12"},{default:(0,l.k6)((()=>[(0,l.bF)(oe,{modelValue:e.form.content,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.content=t),label:"写些文字吧~",counter:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,l.bF)(Y.G),(0,l.bF)(v.S,null,{default:(0,l.k6)((()=>[(0,l.bF)(h.h),(0,l.bF)(i.D,{text:"Close",variant:"plain",onClick:t[4]||(t[4]=t=>e.dialog=!1)}),(0,l.bF)(i.D,{color:"primary",text:"Save",variant:"tonal",onClick:s.submitForm},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.bF)($.K,{modelValue:e.snackbar,"onUpdate:modelValue":t[6]||(t[6]=t=>e.snackbar=t),timeout:3e3,top:""},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.snackbarMessage),1)])),_:1},8,["modelValue"])])),_:1})}a(4114);const re={"公开":"public","私密":"private"};var ie={data:()=>({dialog:!1,form:{title:"",subtitle:"",visibility:"",content:""},snackbar:!1,snackbarMessage:""}),methods:{getInitialFormState(){return{firstName:"",lastName:"",email:"",password:"",confirmPassword:"",age:""}},showSnackbar(e){this.snackbarMessage=e,this.snackbar=!0},async submitForm(){try{this.form.visibility=re[this.form.visibility];const e=await I.A.post("posts/",this.form);200===e.status?(this.$router.push("/"),this.showSnackbar("Post created successfully")):500===e.status?this.showSnackbar("Server error"):400!==e.status&&404!==e.status&&401!==e.status||this.showSnackbar("Bad request")}catch(e){e.response&&403===e.response.status?(this.$router.push("/login/1"),this.showSnackbar("请先登录")):this.showSnackbar("An error occurred")}}}},se=a(6262);const ue=(0,se.A)(ie,[["render",ne]]);var ce=ue;const de=(e,t)=>{let a;return function(...l){const o=this;a&&clearTimeout(a),a=setTimeout((()=>{e.apply(o,l)}),t)}};if("undefined"!==typeof window&&window.ResizeObserver){const e=window.ResizeObserver;window.ResizeObserver=class extends e{constructor(e){super(de(e,20))}}}var me={data:()=>({cards:[{id:1,title:"北航新闻",subtitle:"校园动态",content:"北京航空航天大学举办了一系列科技创新活动,吸引了众多学生参与...",likes:45,liked:!1,category:"学习"},{id:2,title:"Vue.js 学习笔记",subtitle:"前端技术",content:"Vue.js 是一个流行的前端框架,它的响应式系统和组件化设计使得开发更加高效...",likes:56,liked:!0,category:"技术"},{id:3,title:"校园周边美食推荐",subtitle:"生活指南",content:"分享几家北航周边好吃不贵的餐厅,让你的校园生活更加丰富多彩...",likes:78,liked:!1,category:"生活"}],searchQuery:"",selectedCategory:"全部",categories:["全部","技术","学习","生活","娱乐","运动"],page:1,resizeTimeout:null,discoverItems:[{title:"我的动态",description:"了解最新的我",image:"https://cdn.vuetifyjs.com/images/cards/sunshine.jpg",route:{name:"About"}},{title:"家教服务",description:"寻找或提供家教服务",image:"https://cdn.vuetifyjs.com/images/cards/house.jpg",route:{name:"jiajiao"}},{title:"附近地点",description:"探索你周边的精彩",image:"https://cdn.vuetifyjs.com/images/cards/road.jpg",route:{name:"nearby"}}],viewType:"grid",loading:!1}),components:{card7:ce},computed:{filteredCards(){if(!this.cards.length)return[];let e=[...this.cards];if("全部"!==this.selectedCategory&&(e=e.filter((e=>e.category===this.selectedCategory))),this.searchQuery){const t=this.searchQuery.toLowerCase();e=e.filter((e=>e.title.toLowerCase().includes(t)||e.content.toLowerCase().includes(t)||e.subtitle.toLowerCase().includes(t)))}return e}},mounted(){this.fetchBlogs(),this.debouncedResize=de(this.handleResize,200),window.addEventListener("resize",this.debouncedResize)},beforeUnmount(){window.removeEventListener("resize",this.debouncedResize)},methods:{handleResize(){console.log("窗口大小已调整")},async fetchBlogs(){try{this.loading=!0,setTimeout((async()=>{try{const e=await I.A.get("posts/");e.data&&e.data.length>0&&(this.cards=e.data.map((e=>({...e,avatar:this.getRandomAvatar(),liked:e.liked||!1,category:this.getRandomCategory()}))))}catch(e){console.error("Error fetching blogs:",e)}finally{this.loading=!1}}),500)}catch(e){console.error("Error in fetchBlogs:",e),this.loading=!1}},getRandomAvatar(){const e=Math.random().toString(36).substring(7);return`https://api.dicebear.com/9.x/pixel-art/svg?seed=${e}`},getRandomCategory(){const e=this.categories.filter((e=>"全部"!==e));return e[Math.floor(Math.random()*e.length)]},async like(e){const t=this.cards.find((t=>t.id===e));if(t){t.liked=!t.liked,t.likes+=t.liked?1:-1;try{await I.A.post(`posts/${e}/likes`,{liked:t.liked}).catch((e=>console.warn("API not available for likes:",e)))}catch(a){console.error("Error updating like status:",a)}}},async searchContent(){console.log("Searching for:",this.searchQuery),this.loading=!0;try{setTimeout((()=>{this.filteredCards.length||0!==this.cards.length||this.resetFilters(),this.loading=!1}),500)}catch(e){console.error("搜索内容时出错:",e),this.loading=!1}},share(){console.log("分享内容")},handlePageChange(e){this.page!==e&&(this.page=e,setTimeout((()=>{window.scrollTo({top:0,behavior:"smooth"})}),10))},resetFilters(){this.searchQuery="",this.selectedCategory="全部"},getCategoryColor(e){const t={"技术":"indigo","学习":"blue","生活":"green","娱乐":"purple","运动":"orange"};return t[e]||"grey"},getCardImage(e){const t=["https://cdn.vuetifyjs.com/images/cards/house.jpg","https://cdn.vuetifyjs.com/images/cards/road.jpg","https://cdn.vuetifyjs.com/images/cards/plane.jpg","https://cdn.vuetifyjs.com/images/cards/sunshine.jpg","https://cdn.vuetifyjs.com/images/cards/docks.jpg"];return t[e%t.length]}}};const ve=(0,se.A)(me,[["render",z],["__scopeId","data-v-6689983b"]]);var fe=ve},6554:function(e,t,a){a.d(t,{K:function(){return _}});a(8992),a(8872);var l=a(641),o=a(7852),n=a(8856),r=a(9336),i=a(4603),s=a(1950),u=a(9788),c=a(8184),d=a(2067),m=a(3240),v=a(2876),f=a(7664),p=a(1743),g=a(2428),b=a(953),h=a(4587),k=a(9094),y=a(1247),F=a(4600);function w(e){const t=(0,b.IJ)(e());let a=-1;function o(){clearInterval(a)}function n(){o(),(0,l.dY)((()=>t.value=e()))}function r(l){const n=l?getComputedStyle(l):{transitionDuration:.2},r=1e3*parseFloat(n.transitionDuration)||200;if(o(),t.value<=0)return;const i=performance.now();a=window.setInterval((()=>{const a=performance.now()-i+r;t.value=Math.max(e()-a,0),t.value<=0&&o()}),r)}return(0,b.jr)(o),{clear:o,time:t,start:r,reset:n}}const x=(0,h.j)({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...(0,u.M)({location:"bottom"}),...(0,c.S)(),...(0,m.S)(),...(0,g.gI)(),...(0,f.yx)(),...(0,k.cJ)((0,n.D)({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),_=(0,y.RW)()({name:"VSnackbar",props:x(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const u=(0,d.q)(e,"modelValue"),{positionClasses:h}=(0,c.J)(e),{scopeId:y}=(0,v.b)(),{themeClasses:x}=(0,f.NX)(e),{colorClasses:_,colorStyles:V,variantClasses:C}=(0,g.rn)(e),{roundedClasses:S}=(0,m.v)(e),L=w((()=>Number(e.timeout))),B=(0,b.KR)(),W=(0,b.KR)(),R=(0,b.IJ)(!1),j=(0,b.IJ)(0),E=(0,b.KR)(),z=(0,l.WQ)(i.aF,void 0);(0,p.Y)((()=>!!z),(()=>{const e=(0,i.gK)();(0,l.nT)((()=>{E.value=e.mainStyles.value}))})),(0,l.wB)(u,P),(0,l.wB)((()=>e.timeout),P),(0,l.sV)((()=>{u.value&&P()}));let I=-1;function P(){L.reset(),window.clearTimeout(I);const t=Number(e.timeout);if(!u.value||-1===t)return;const a=(0,k._p)(W.value);L.start(a),I=window.setTimeout((()=>{u.value=!1}),t)}function K(){L.reset(),window.clearTimeout(I)}function T(){R.value=!0,K()}function A(){R.value=!1,P()}function D(e){j.value=e.touches[0].clientY}function U(e){Math.abs(j.value-e.changedTouches[0].clientY)>50&&(u.value=!1)}function N(){R.value&&A()}const M=(0,l.EW)((()=>e.location.split(" ").reduce(((e,t)=>(e[`v-snackbar--${t}`]=!0,e)),{})));return(0,F.C)((()=>{const t=n.L.filterProps(e),i=!!(a.default||a.text||e.text);return(0,l.bF)(n.L,(0,l.v6)({ref:B,class:["v-snackbar",{"v-snackbar--active":u.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},M.value,h.value,e.class],style:[E.value,e.style]},t,{modelValue:u.value,"onUpdate:modelValue":e=>u.value=e,contentProps:(0,l.v6)({class:["v-snackbar__wrapper",x.value,_.value,S.value,C.value],style:[V.value],onPointerenter:T,onPointerleave:A},t.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:D,onTouchend:U,onAfterLeave:N},y),{default:()=>[(0,g.wN)(!1,"v-snackbar"),e.timer&&!R.value&&(0,l.bF)("div",{key:"timer",class:"v-snackbar__timer"},[(0,l.bF)(r.Z,{ref:W,color:"string"===typeof e.timer?e.timer:"info",max:e.timeout,"model-value":L.time.value},null)]),i&&(0,l.bF)("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[a.text?.()??e.text,a.default?.()]),a.actions&&(0,l.bF)(o.K,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[(0,l.bF)("div",{class:"v-snackbar__actions"},[a.actions({isActive:u})])]})],activator:a.activator})})),(0,s.O)({},B)}})}}]);
//# sourceMappingURL=266.5ee0a646.js.map